{% extends 'core/index.html' %}

{% load staticfiles %}

{% block title %}
Personal Health Cloud | Fitness
{% endblock %}

{% block additional_css %}
<link href="{% static 'css/plugins/datapicker/datepicker3.css' %}" rel="stylesheet">
<link href="{% static 'css/plugins/dataTables/datatables.min.css' %}" rel="stylesheet">
<link href="{% static 'css/plugins/morris/morris-0.4.3.min.css' %}" rel="stylesheet">
{% endblock %}

{% block menu %}
	{% include 'portal/menu.html' %}
{% endblock %}

{% block content %}

<div class="row wrapper border-bottom white-bg page-heading">
	<div class="col-lg-9">
		<h2>Fitness &amp; Routine</h2>
	</div>
	
	<div class="col-lg-3">
		<br>
		
		<div class="col-lg-3"></div>
		
		<div class="col-lg-4">
		
        <div class="form-group" id="data_1">
            <div class="input-group date">
				<span class="input-group-addon"><i class="fa fa-calendar"></i></span><input type="text" class="form-control" value="06/01/2016">
            </div>
        </div>
		
		</div>
		
		<div class="col-lg-1">to</div>
		
		<div class="col-lg-4">
		
        <div class="form-group" id="data_2">
            <div class="input-group date">
				<span class="input-group-addon"><i class="fa fa-calendar"></i></span><input type="text" class="form-control" value="07/03/2016">
            </div>
        </div>
		</div>
	</div>
</div>

<div class="row wrapper wrapper-content animated fadeInRight">
{% comment %}	// BEGIN STAT BOXES // {% endcomment %}

<div class="row">
	<div class="col-lg-3">
		<div class="ibox float-e-margins">
			<div class="ibox-title">
				<span class="label label-info pull-right">Today</span>
				<h5>Distance &amp; Steps</h5>
			</div>
			
			<div class="ibox-content">
				<h1 class="no-margins">5,800 m</h1>
				<div class="stat-percent font-bold text-info">10% <i class="fa fa-level-up"></i></div>
				<small>10,200 Steps</small>
			</div>
		</div>
	</div>
	
    <div class="col-lg-3">
        <div class="ibox float-e-margins">
            <div class="ibox-title">
                <span class="label label-info pull-right">Today</span>
                <h5>Duration</h5>
            </div>
            <div class="ibox-content">
                <h1 class="no-margins">1:14:00</h1>
                <div class="stat-percent font-bold text-info">20% <i class="fa fa-level-up"></i></div>
                <small>hours</small>
            </div>
        </div>
    </div>
	
    <div class="col-lg-3">
        <div class="ibox float-e-margins">
            <div class="ibox-title">
                <span class="label label-info pull-right">Today</span>
                <h5>Floors</h5>
            </div>
            <div class="ibox-content">
                <h1 class="no-margins">12</h1>
                <div class="stat-percent font-bold text-info">44% <i class="fa fa-level-up"></i></div>
                <small>Elevation: 36m</small>
            </div>
        </div>
    </div>
	
	<div class="col-lg-3">
        <div class="ibox float-e-margins">
            <div class="ibox-title">
				<span class="label label-info pull-right">Today</span>
                <span class="label label-danger pull-right">Low</span>
                <h5>Calories</h5>
            </div>
            <div class="ibox-content">
                <h1 class="no-margins">600</h1>
                <div class="stat-percent font-bold text-danger">38% <i class="fa fa-level-down"></i></div>
                <small>&nbsp;</small>
            </div>
        </div>
	</div>
</div>

{% comment %}	// END STAT BOXES // {% endcomment %}

{% comment %}	// BEGIN ACTIVITY & INTENSITY CHARTS // {% endcomment %}

	<div class="row">
		<div class="col-lg-12">
			<div class="ibox float-e-margins">
				<div class="ibox-title">
					<h3>Activity &amp; Intensity - Duration</h3>
					
					<div class="ibox-tools">
					</div>
				</div>
				
				<div class="ibox-content">
					<div class="row">
						<div class='col-lg-3'>
							<div id="donut-duration-intensity" ></div>
							<br>
							<h4 align="center">Activity Intensity by Duration</h4>
						</div>
	
						<div class='col-lg-3'>
							<div id="donut-duration-activity" ></div>
							<br>
							<h4 align="center">Activity Type By Duration</h4>
						</div>
	
						<div class='col-lg-6'>
							<div id="area-duration-activity" ></div>
							<br>
							<h4 align="center">Cummulative Activity By Duration</h4>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	
	<div class="row">
		<div class="col-lg-12">
			<div class="ibox float-e-margins">
				<div class="ibox-title">
					<h3>Activity &amp; Intensity - Calories</h3>
				</div>
				
				<div class="ibox-content">
					<div class="row">
						<div class='col-lg-3'>
							<div id="donut-calories-intensity" ></div>
							<br>
							<h4 align="center">Activity Intensity by Calories</h4>
						</div>
					
						<div class='col-lg-3'>
							<div id="bar-calories-activity" ></div>
							<br>
							<h4 align="center">Activity Type By Calories</h4>
						</div>
					
						<div class='col-lg-6'>
							<div id="area-calories-intensity" ></div>
							<br>
							<h4 align="center">Cummulative Activity By Calories</h4>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

{% comment %}	// END ACTIVITY & INTENSITY CHARTS // {% endcomment %}

{% comment %}	// BEGIN DISTANCE & ELEVATION CHARTS // {% endcomment %}

	<div class="row">
		<div class="col-lg-12">
			<div class="ibox float-e-margins">
				<div class="ibox-title">
					<h3>Line Stuff</h3>
				</div>
				
				<div class="ibox-content">
					<div class="row">
						<div class='col-lg-4'>
							<div id="line-duration-steps" ></div>
							<br>
							<h4 align="center">Steps by Application/Device</h4>
						</div>
					
						<div class='col-lg-4'>
							<div id="line-distance-activity" ></div>
							<br>
							<h4 align="center">Distance by Activity</h4>
						</div>
						
						<div class='col-lg-4'>
							<div id="line-duration-elevation" ></div>
							<br>
							<h4 align="center">Elevation</h4>
						</div>
					</div>
				</div>
			</div>
		</div>
	
	</div>
	
{% comment %}	// END DISTANCE & ELEVATION CHARTS // {% endcomment %}


{% comment %}	// BEGIN ROUTINE DATA TABLE // {% endcomment %}

{% comment %}
	<div class="row">
		<div class="col-lg-6">
			<div class="ibox float-e-margins">
				<div class="ibox-title">
					<h5>Fitness</h5>
					
					<div class="ibox-tools">
						<a href="{% url 'portal-fitness-update' %}"><i class="fa fa-history"></i></a>
					</div>
				</div>
				
				<div class="ibox-content">
					
					{% if recordsFitness.count > 0 or recordsRoutine > 0 %}
					
					<div class="table-responsive">
						<table class="table table-striped table-bordered table-hover dataTables-fitness" >
							<thead>
								<tr>
									<th>Date</th>
									<th>Source</th>
									<th>Activity</th>
									<th>Intensity</th>
									<th>Start Time</th>
									<th>Duration</th>
									<th>Distance</th>
									<th>Calories</th>
								</tr>
							</thead>
							
							<tbody>
								
								{% for record in recordsFitness %}
								
								<tr>
									<td>{{record.timestamp}}</td>
									<td>{{record.source.source_name}}</td>
									<td>{{record.activity_category}}</td>
									<td>{{record.intensity}}</td>
									<td>{{record.start_time}}</td>
									<td class="center">{{record.duration}}</td>
									<td class="center">{{record.distance}}</td>
									<td class="center">{{record.calories}}</td>
								</tr>
								
								{% endfor %}
								
							</tbody>
							
						</table>
					</div>
				
					{% else %}
					
					<div class="row">
						<br><br>
					
						<h2 align='center'>You haven't recorded any fitness activity yet</h2>
				
						<br><br>
					
						<div class="col-md-2 col-md-offset-5">
							<a class="btn btn-primary btn-rounded btn-block" href="{% url 'portal-fitness-update' %}" align='center'><i class="fa fa-history"></i>&nbsp;&nbsp;Sync Fitness Activity</a>
						</div>
					</div>
					
				{% endif %}
				
				</div>
			</div>
		</div>
		
		<div class="col-lg-6">
			<div class="ibox float-e-margins">
				<div class="ibox-title">
					<h5>Routine</h5>
					
					<div class="ibox-tools">
						<a href="{% url 'portal-fitness-update' %}"><i class="fa fa-history"></i></a>
					</div>
				</div>
				
				<div class="ibox-content">
					
					{% if recordsFitness.count > 0 or recordsRoutine > 0 %}
					
					<div class="table-responsive">
						<table class="table table-striped table-bordered table-hover dataTables-fitness" >
							<thead>
								<tr>
									<th>Date</th>
									<th>Source</th>
									<th>Steps</th>
									<th>Distance</th>
									<th>Floors</th>
									<th>Elevation</th>
									<th>Calories</th>
									<th>Water</th>
								</tr>
							</thead>
							
							<tbody>
								
								{% for record in recordsRoutine %}
								
								<tr>
									<td>{{record.timestamp}}</td>
									<td>{{record.source.source_name}}</td>
									<td>{{record.steps}}</td>
									<td>{{record.distance}}</td>
									<td>{{record.floors}}</td>
									<td class="center">{{record.elevation}}</td>
									<td class="center">{{record.calofies}}</td>
									<td class="center">{{record.water}}</td>
								</tr>
								
								{% endfor %}
								
							</tbody>
							
						</table>
					</div>
				
					{% else %}
					
					<div class="row">
						<br><br>
					
						<h2 align='center'>You haven't recorded any fitness activity yet</h2>
				
						<br><br>
					
						<div class="col-md-2 col-md-offset-5">
							<a class="btn btn-primary btn-rounded btn-block" href="{% url 'portal-fitness-update' %}" align='center'><i class="fa fa-history"></i>&nbsp;&nbsp;Sync Fitness Activity</a>
						</div>
					</div>
					
				{% endif %}
				
				</div>
			</div>
		</div>
	</div>
{% endcomment %}
{% comment %}	// END ROUTINE DATA TABLE // {% endcomment %}
</div>

{% endblock %}

{% block sidebar-tab-headers %}
	{% include 'portal/dashboard-tab-headers.html' %}
{% endblock %}

{% block sidebar-tab-content %}
	{% include 'portal/dashboard-tab-content.html' %}
{% endblock %}

{% block additional_js %}

<script src="{% static 'js/plugins/datapicker/bootstrap-datepicker.js' %}"></script>

<script src="{% static 'js/plugins/morris/raphael-2.1.0.min.js' %}"></script>
<script src="{% static 'js/plugins/morris/morris.js' %}"></script>

<script src="{% static 'js/plugins/dataTables/datatables.min.js' %}"></script>

<!-- Page-Level Scripts -->
    <script>
		$(function() {
			Morris.Donut({
			    element: 'donut-duration-intensity',
			    data: [{ label: "Fitbit", value: 12 },
			        { label: "Daily Mile", value: 30 },
			        { label: "Map My Fitness", value: 20 } ],
			    resize: true,
			    colors: ['#8CA838', '#BB573E','#B83D45'],
			});
			
		    Morris.Donut({
		        element: 'donut-duration-activity',
		        data: [{ label: "Fitbit", value: 12 },
		            { label: "Daily Mile", value: 30 },
		            { label: "Map My Fitness", value: 20 } ],
		        resize: true,
		        colors: ['#3B5AB0', '#309169','#7ECC66','#CED071','#B83D62','#D581B7','#7E2A58','#581D4B','#71C2D0','#BB3E43'],
		    });
			
		    Morris.Area({
		        element: 'area-duration-activity',
		        data: [{ period: '2010 Q1', iphone: 2666, ipad: null, itouch: 2647 },
		            { period: '2010 Q2', iphone: 2778, ipad: 2294, itouch: 2441 },
		            { period: '2010 Q3', iphone: 4912, ipad: 1969, itouch: 2501 },
		            { period: '2010 Q4', iphone: 3767, ipad: 3597, itouch: 5689 },
		            { period: '2011 Q1', iphone: 6810, ipad: 1914, itouch: 2293 },
		            { period: '2011 Q2', iphone: 5670, ipad: 4293, itouch: 1881 },
		            { period: '2011 Q3', iphone: 4820, ipad: 3795, itouch: 1588 },
		            { period: '2011 Q4', iphone: 15073, ipad: 5967, itouch: 5175 },
		            { period: '2012 Q1', iphone: 10687, ipad: 4460, itouch: 2028 },
		            { period: '2012 Q2', iphone: 8432, ipad: 5713, itouch: 1791 } ],
		        xkey: 'period',
		        ykeys: ['iphone', 'ipad', 'itouch'],
		        labels: ['iPhone', 'iPad', 'iPod Touch'],
		        pointSize: 2,
		        hideHover: 'auto',
		        resize: true,
		        lineColors: ['#87d6c6', '#54cdb4','#1ab394'],
		        lineWidth:2,
		        pointSize:1,
		    });
			
		    Morris.Donut({
		        element: 'donut-calories-intensity',
		        data: [{ label: "Fitbit", value: 12 },
		            { label: "Daily Mile", value: 30 },
		            { label: "Map My Fitness", value: 20 } ],
		        resize: true,
		        colors: ['#E82C71', '#2CE8A3','#452CE8','#CFE82C'],
		    });
			
		    Morris.Bar({
		        element: 'bar-calories-activity',
		        data: [{ y: '2006', a: 60, b: 50 },
		            { y: '2007', a: 75, b: 65 },
		            { y: '2008', a: 50, b: 40 },
		            { y: '2009', a: 75, b: 65 },
		            { y: '2010', a: 50, b: 40 },
		            { y: '2011', a: 75, b: 65 },
		            { y: '2012', a: 100, b: 90 } ],
		        xkey: 'y',
		        ykeys: ['a', 'b'],
		        labels: ['Series A', 'Series B'],
		        hideHover: 'auto',
		        resize: true,
		        barColors: ['#1ab394', '#cacaca'],
		    });
			
		    Morris.Area({
		        element: 'area-calories-intensity',
		        data: [{ period: '2010 Q1', iphone: 2666, ipad: null, itouch: 2647 },
		            { period: '2010 Q2', iphone: 2778, ipad: 2294, itouch: 2441 },
		            { period: '2010 Q3', iphone: 4912, ipad: 1969, itouch: 2501 },
		            { period: '2010 Q4', iphone: 3767, ipad: 3597, itouch: 5689 },
		            { period: '2011 Q1', iphone: 6810, ipad: 1914, itouch: 2293 },
		            { period: '2011 Q2', iphone: 5670, ipad: 4293, itouch: 1881 },
		            { period: '2011 Q3', iphone: 4820, ipad: 3795, itouch: 1588 },
		            { period: '2011 Q4', iphone: 15073, ipad: 5967, itouch: 5175 },
		            { period: '2012 Q1', iphone: 10687, ipad: 4460, itouch: 2028 },
		            { period: '2012 Q2', iphone: 8432, ipad: 5713, itouch: 1791 } ],
		        xkey: 'period',
		        ykeys: ['iphone', 'ipad', 'itouch'],
		        labels: ['iPhone', 'iPad', 'iPod Touch'],
		        pointSize: 2,
		        hideHover: 'auto',
		        resize: true,
		        lineColors: ['#87d6c6', '#54cdb4','#1ab394'],
		        lineWidth:2,
		        pointSize:1,
		    });
			
			Morris.Line({
			    element: 'line-duration-steps',
			    
				data: [
					{ y: '2016', a: 100 },
			        { y: '2007', a: 75, b: 65 },
			        { y: '2008', a: 50, b: 40 },
			        { y: '2009', a: 75, b: 65 },
			        { y: '2010', a: 50, b: 40 },
			        { y: '2011', a: 75, b: 65 },
			        { y: '2012', a: 100, b: 90 }
				],
			    
				xkey: 'y',
			    ykeys: ['a', 'b'],
			    labels: ['Series A', 'Series B'],
			    hideHover: 'auto',
			    resize: true,
			    lineColors: ['#54cdb4','#1ab394'],
			});
			
			Morris.Line({
			    element: 'line-distance-activity',
			    
				data: [
					{ y: '2016', a: 100 },
			        { y: '2007', a: 75, b: 65 },
			        { y: '2008', a: 50, b: 40 },
			        { y: '2009', a: 75, b: 65 },
			        { y: '2010', a: 50, b: 40 },
			        { y: '2011', a: 75, b: 65 },
			        { y: '2012', a: 100, b: 90 }
				],
			    
				xkey: 'y',
			    ykeys: ['a', 'b'],
			    labels: ['Series A', 'Series B'],
			    hideHover: 'auto',
			    resize: true,
			    lineColors: ['#54cdb4','#1ab394'],
			});
			
		    Morris.Line({
		        element: 'line-duration-elevation',
		            data: [
		                { year: '2008', value: 5 },
		                { year: '2009', value: 10 },
		                { year: '2010', value: 8 },
		                { year: '2011', value: 22 },
		                { year: '2012', value: 8 },
		                { year: '2014', value: 10 },
		                { year: '2015', value: 5 }
		            ],
		        xkey: 'year',
		        ykeys: ['value'],
		        resize: true,
		        lineWidth:4,
		        labels: ['Value'],
		        lineColors: ['#1ab394'],
		        pointSize:5,
		    });
		});
		
        $(document).ready(function(){
			$('#data_1 .input-group.date').datepicker({
			    todayBtn: "linked",
			    keyboardNavigation: false,
			    forceParse: false,
			    calendarWeeks: true,
			    autoclose: true
			});
			
			$('#data_2 .input-group.date').datepicker({
			    todayBtn: "linked",
			    keyboardNavigation: false,
			    forceParse: false,
			    calendarWeeks: true,
			    autoclose: true
			});
			
            $('.dataTables-fitness').DataTable({
                dom: '<"html5buttons"B>lTfgitp',
                buttons: [
                    { extend: 'copy'},
                    {extend: 'csv'},
                    {extend: 'excel', title: 'Fitness & Routine Activity'},
                    {extend: 'pdf', title: 'Fitness & Routine Activity'},

                    {extend: 'print',
                     customize: function (win){
                            $(win.document.body).addClass('white-bg');
                            $(win.document.body).css('font-size', '10px');

                            $(win.document.body).find('table')
                                    .addClass('compact')
                                    .css('font-size', 'inherit');
                    }
                    }
                ]

            });
        });
    </script>

{% endblock %}
